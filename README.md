# YouTube Website Streamer

24/7 ะฐะฒัะพะผะฐัะธัะตัะบะฐั ััะฐะฝัะปััะธั ัะฐะนัะฐ ะฝะฐ YouTube Live ัะตัะตะท headless ะฑัะฐัะทะตั.

## ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโ
โ   Puppeteer     โโโโโโถโ   FFmpeg     โโโโโโถโ    RTMP     โโโโโโถโ   YouTube    โ
โ   (Chromium)    โ     โ   Encoder    โ     โ   Stream    โ     โ    Live      โ
โ                 โ     โ              โ     โ             โ     โ              โ
โ Headless ัะตะถะธะผ  โ     โ H.264 + AAC  โ     โ flv format  โ     โ ะขัะฐะฝัะปััะธั   โ
โ 1920x1080       โ     โ 4500kbps     โ     โ             โ     โ              โ
โโโโโโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโ
       โ                       โฒ
       โ    JPEG frames        โ
       โโโโโโโโโโโโโโโโโโโโโโโโโ
            (ัะตัะตะท pipe)
```

### ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั:

1. **Puppeteer** ะทะฐะฟััะบะฐะตั Chromium ะฒ headless ัะตะถะธะผะต ะธ ะพัะบััะฒะฐะตั ัะตะปะตะฒะพะน ัะฐะนั
2. **ะฆะธะบะป ะทะฐัะฒะฐัะฐ** ะดะตะปะฐะตั ัะบัะธะฝัะพัั ัััะฐะฝะธัั ั ะทะฐะดะฐะฝะฝัะผ FPS (30 ะบะฐะดัะพะฒ/ัะตะบ)
3. **FFmpeg** ะฟะพะปััะฐะตั JPEG ะธะทะพะฑัะฐะถะตะฝะธั ัะตัะตะท stdin ะธ ะบะพะดะธััะตั ะธั ะฒ H.264 ะฒะธะดะตะพ
4. ะะธะดะตะพะฟะพัะพะบ ะพัะฟัะฐะฒะปัะตััั ะฝะฐ YouTube ัะตัะตะท **RTMP ะฟัะพัะพะบะพะป**
5. **ะะฒัะพะฟะตัะตะทะฐะฟััะบ** ะฟัะธ ะปัะฑัั ัะฑะพัั ะพะฑะตัะฟะตัะธะฒะฐะตั 24/7 ัะฐะฑะพัั

## ๐ ะขัะตะฑะพะฒะฐะฝะธั

- Node.js 18+
- FFmpeg
- Chromium/Chrome
- YouTube ะบะฐะฝะฐะป ั ะฒะบะปัััะฝะฝะพะน ััะฐะฝัะปััะธะตะน

## ๐ ะัััััะน ััะฐัั (ะปะพะบะฐะปัะฝะพ)

### 1. ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

```bash
npm install
```

### 2. ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั

```bash
# ะะพะฟะธััะตะผ ะฟัะธะผะตั
cp .env.example .env

# ะะตะดะฐะบัะธััะตะผ .env ะธ ะดะพะฑะฐะฒะปัะตะผ STREAM_KEY
```

### 3. ะะฐะฟััะบ

```bash
npm start
```

## ๐ณ Docker

### ะกะฑะพัะบะฐ ะพะฑัะฐะทะฐ

```bash
docker build -t youtube-streamer .
```

### ะะฐะฟััะบ ะบะพะฝัะตะนะฝะตัะฐ

```bash
docker run -d \
  --name youtube-streamer \
  --restart=always \
  -e STREAM_KEY=your-youtube-stream-key \
  -e TARGET_URL=https://neptun.in.ua \
  youtube-streamer
```

## โ๏ธ ะะตะฟะปะพะน ะฝะฐ Render.com

### ะกะฟะพัะพะฑ 1: ะงะตัะตะท render.yaml (ัะตะบะพะผะตะฝะดัะตััั)

1. ะะฐะณััะทะธัะต ะฟัะพะตะบั ะฒ GitHub/GitLab ัะตะฟะพะทะธัะพัะธะน

2. ะะฐะนะดะธัะต ะฝะฐ [render.com](https://render.com) ะธ ัะพะทะดะฐะนัะต ะฐะบะบะฐัะฝั

3. ะะฐะถะผะธัะต **"New" โ "Blueprint"**

4. ะะพะดะบะปััะธัะต ะฒะฐั ัะตะฟะพะทะธัะพัะธะน

5. Render ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฝะฐะนะดัั `render.yaml` ะธ ัะพะทะดะฐัั ัะตัะฒะธั

6. **ะะะะะ:** ะะพัะปะต ัะพะทะดะฐะฝะธั ะทะฐะนะดะธัะต ะฒ ะฝะฐัััะพะนะบะธ ัะตัะฒะธัะฐ:
   - **Environment** โ ะะพะฑะฐะฒััะต `STREAM_KEY` (ะฒะฐั ะบะปัั YouTube)

7. ะะฐะถะผะธัะต **"Manual Deploy" โ "Deploy latest commit"**

### ะกะฟะพัะพะฑ 2: ะััะฝะฐั ะฝะฐัััะพะนะบะฐ

1. ะะฐะนะดะธัะต ะฝะฐ [render.com](https://render.com)

2. ะะฐะถะผะธัะต **"New" โ "Background Worker"**

3. ะะพะดะบะปััะธัะต ัะตะฟะพะทะธัะพัะธะน

4. ะะฐัััะพะนะบะธ:
   - **Name:** `youtube-website-streamer`
   - **Region:** `Frankfurt` (ะธะปะธ ะฑะปะธะถะฐะนัะธะน)
   - **Runtime:** `Docker`
   - **Plan:** `Standard` ($7/ะผะตััั) ะธะปะธ ะฒััะต

5. Environment Variables:
   ```
   STREAM_KEY=xxxx-xxxx-xxxx-xxxx-xxxx
   TARGET_URL=https://neptun.in.ua
   WIDTH=1920
   HEIGHT=1080
   FPS=30
   VIDEO_BITRATE=4500k
   ```

6. ะะฐะถะผะธัะต **"Create Background Worker"**

## ๐ ะะพะปััะตะฝะธะต YouTube Stream Key

1. ะะฐะนะดะธัะต ะฝะฐ [YouTube Studio](https://studio.youtube.com)

2. ะะฐะถะผะธัะต **"ะกะพะทะดะฐัั" โ "ะะฐัะฐัั ััะฐะฝัะปััะธั"**

3. ะัะฑะตัะธัะต **"ะขัะฐะฝัะปััะธั" (Stream)**

4. ะกะบะพะฟะธััะนัะต **"ะะปัั ััะฐะฝัะปััะธะธ"** ะธะท ะฝะฐัััะพะตะบ

5. **ะะะะะ:** ะะบะปััะธัะต ะพะฟัะธั "ะะบะปััะธัั ะฐะฒัะพะผะฐัะธัะตัะบะธะน ะทะฐะฟััะบ" ะฒ YouTube Studio

## โ๏ธ ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

| ะะตัะตะผะตะฝะฝะฐั | ะะฑัะทะฐัะตะปัะฝะพ | ะะพ ัะผะพะปัะฐะฝะธั | ะะฟะธัะฐะฝะธะต |
|------------|-------------|--------------|----------|
| `STREAM_KEY` | โ | - | ะะปัั ััะฐะฝัะปััะธะธ YouTube |
| `TARGET_URL` | โ | `https://neptun.in.ua` | URL ัะฐะนัะฐ ะดะปั ััะฐะฝัะปััะธะธ |
| `WIDTH` | โ | `1920` | ะจะธัะธะฝะฐ ะฒะธะดะตะพ |
| `HEIGHT` | โ | `1080` | ะััะพัะฐ ะฒะธะดะตะพ |
| `FPS` | โ | `30` | ะะฐะดัั ะฒ ัะตะบัะฝะดั |
| `VIDEO_BITRATE` | โ | `4500k` | ะะธััะตะนั ะฒะธะดะตะพ |
| `RESTART_DELAY` | โ | `5000` | ะะฐะดะตัะถะบะฐ ะฟะตัะตะทะฐะฟััะบะฐ (ะผั) |
| `PAGE_REFRESH_INTERVAL` | โ | `3600000` | ะะฝัะตัะฒะฐะป ะพะฑะฝะพะฒะปะตะฝะธั ัััะฐะฝะธัั (ะผั) |
| `DEBUG` | โ | - | ะะบะปััะธัั ะพัะปะฐะดะพัะฝัะต ะปะพะณะธ |

## ๐ ะะตะบะพะผะตะฝะดัะตะผัะต ะฝะฐัััะพะนะบะธ ะดะปั YouTube

### ะกัะฐะฝะดะฐััะฝะพะต ะบะฐัะตััะฒะพ (1080p30)
```
WIDTH=1920
HEIGHT=1080
FPS=30
VIDEO_BITRATE=4500k
```

### ะญะบะพะฝะพะผะฝัะน ัะตะถะธะผ (720p30)
```
WIDTH=1280
HEIGHT=720
FPS=30
VIDEO_BITRATE=2500k
```

### ะััะพะบะพะต ะบะฐัะตััะฒะพ (1080p60)
```
WIDTH=1920
HEIGHT=1080
FPS=60
VIDEO_BITRATE=6000k
```

## ๐ง ะฃัััะฐะฝะตะฝะธะต ะฝะตะฟะพะปะฐะดะพะบ

### ะกััะธะผ ะฝะต ะทะฐะฟััะบะฐะตััั

1. ะัะพะฒะตัััะต `STREAM_KEY` - ะพะฝ ะดะพะปะถะตะฝ ะฑััั ะฐะบััะฐะปัะฝัะผ
2. ะฃะฑะตะดะธัะตัั ััะพ ััะฐะฝัะปััะธั ะฒะบะปััะตะฝะฐ ะฒ YouTube Studio
3. ะัะพะฒะตัััะต ะปะพะณะธ: `docker logs youtube-streamer`

### ะะธะทะบะธะน FPS / ะปะฐะณะธ

1. ะฃะผะตะฝััะธัะต ัะฐะทัะตัะตะฝะธะต: `WIDTH=1280 HEIGHT=720`
2. ะฃะผะตะฝััะธัะต FPS: `FPS=24`
3. ะัะพะฒะตัััะต ะฟะปะฐะฝ ะฝะฐ Render (ะฝัะถะตะฝ ะผะธะฝะธะผัะผ Standard)

### ะััะพะบะพะต ะฟะพััะตะฑะปะตะฝะธะต ะฟะฐะผััะธ

1. ะฃะผะตะฝััะธัะต `PAGE_REFRESH_INTERVAL` ะดะปั ะฑะพะปะตะต ัะฐััะพะณะพ ะพะฑะฝะพะฒะปะตะฝะธั
2. ะัะพะฒะตัััะต ะฝะตั ะปะธ ััะตัะตะบ ะฝะฐ ัะตะปะตะฒะพะผ ัะฐะนัะต

### YouTube ะฟะพะบะฐะทัะฒะฐะตั "ะะตั ะดะฐะฝะฝัั"

1. ะะพะดะพะถะดะธัะต 30-60 ัะตะบัะฝะด ะฟะพัะปะต ะทะฐะฟััะบะฐ
2. ะะบะปััะธัะต "ะะฒัะพะผะฐัะธัะตัะบะธะน ะทะฐะฟััะบ" ะฒ YouTube Studio
3. ะัะพะฒะตัััะต ััะพ RTMP URL ะฟัะฐะฒะธะปัะฝัะน

## ๐ ะะพะณะธ

ะัะธะปะพะถะตะฝะธะต ะฒัะฒะพะดะธั ััััะบัััะธัะพะฒะฐะฝะฝัะต ะปะพะณะธ:

```
[2024-01-15T10:30:00.000Z] [INFO] ะะฐะฟััะบ YouTube Website Streamer
[2024-01-15T10:30:01.000Z] [INFO] ะัะฐัะทะตั ะทะฐะฟััะตะฝ
[2024-01-15T10:30:05.000Z] [INFO] ะกััะฐะฝะธัะฐ ะทะฐะณััะถะตะฝะฐ
[2024-01-15T10:30:07.000Z] [INFO] FFmpeg ะทะฐะฟััะตะฝ
[2024-01-15T10:30:37.000Z] [INFO] ะกัะฐัะธััะธะบะฐ: ะพัะฟัะฐะฒะปะตะฝะพ 900 ะบะฐะดัะพะฒ
```

## ๐ฐ ะกัะพะธะผะพััั ะฝะฐ Render.com

| ะะปะฐะฝ | CPU | RAM | ะฆะตะฝะฐ | ะะตะบะพะผะตะฝะดะฐัะธั |
|------|-----|-----|------|--------------|
| Free | Shared | 512MB | $0 | โ ะะต ะฟะพะดัะพะดะธั |
| Starter | Shared | 512MB | $7/ะผะตั | โ๏ธ ะะธะฝะธะผัะผ ะดะปั ัะตััะพะฒ |
| Standard | 1 CPU | 2GB | $25/ะผะตั | โ ะะตะบะพะผะตะฝะดัะตััั |
| Pro | 2 CPU | 4GB | $85/ะผะตั | โ ะะปั ะฒััะพะบะพะณะพ FPS |

## ๐ ะะธัะตะฝะทะธั

MIT

## โ๏ธ Disclaimer

ะฃะฑะตะดะธัะตัั ััะพ ั ะฒะฐั ะตััั ะฟัะฐะฒะพ ััะฐะฝัะปะธัะพะฒะฐัั ะบะพะฝัะตะฝั ัะตะปะตะฒะพะณะพ ัะฐะนัะฐ. ะะฒัะพั ะฝะต ะฝะตััั ะพัะฒะตัััะฒะตะฝะฝะพััะธ ะทะฐ ะฝะฐัััะตะฝะธะต ะฐะฒัะพััะบะธั ะฟัะฐะฒ.
